---
name: market-sizing
description: 市场规模测算 - 科学的Bottom-Up逻辑链 + Top-Down交叉验证
argument-hint: <行业/市场名称> [--geo 地域]
allowed-tools: WebSearch, WebFetch, Bash, Write, Read
model: opus
user-invocable: true
---

# Market Sizing - 市场规模测算

## 核心原则

**Bottom-Up必须从最底层需求出发，每一层假设都用产业数据验证**

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  Bottom-Up ≠ 简单的"客户分层×渗透率×ARPU"                       │
│                                                                 │
│  Bottom-Up = 从潜在客户基数出发，层层拆解，每层用数据验证       │
│                                                                 │
│  两条路径必须独立：                                             │
│  - Bottom-Up：从需求侧构建                                      │
│  - Top-Down：从供给侧构建                                       │
│  - 交叉验证：差异<20%说明两条独立逻辑指向同一结论               │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

# Step 0: 明确测算口径

**在开始任何计算之前，必须确定：**

| 口径项 | 必须明确 | 示例 |
|--------|---------|------|
| 地域范围 | 全球/美国/中国/欧洲？ | ⚠️ 不同地域数据绝对不能混用 |
| 产品边界 | 包含什么？不包含什么？ | 托管SaaS vs 开源 vs 自建 |
| 收入口径 | 订阅/交易抽成/广告/全部？ | Shopify订阅$23.5亿 vs 总$88.8亿 |
| 数据年份 | 统一用哪年？ | 2024 |

---

# Step 1: Bottom-Up 科学逻辑链

## 泛化框架

**任何市场都可以用这个逻辑链拆解：**

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  Layer 1: 潜在客户基数                                          │
│      │    （企业数/用户数/设备数/...）                          │
│      │                                                          │
│      ↓ × 有需求的比例（需求渗透率）                             │
│                                                                 │
│  Layer 2: 有需求的客户                                          │
│      │                                                          │
│      ↓ × 会选择付费方案的比例（付费转化率）                     │
│                                                                 │
│  Layer 3: 潜在付费客户                                          │
│      │                                                          │
│      ↓ 按某维度分层（规模/行业/地域/场景...）                   │
│                                                                 │
│  Layer 4: 分层后的客户                                          │
│      │                                                          │
│      ↓ × 各层ARPU                                               │
│                                                                 │
│  = 市场规模                                                     │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## 不同市场的逻辑链示例

### B2B SaaS（如独立站SaaS）

```
全球企业总数（3.5亿MSME）
    ↓ × 电商化率（13%）
有电商业务的企业（4600万）
    ↓ × 独立站需求率（40%，排除纯平台卖家）
需要独立站的企业（1850万）
    ↓ × 托管SaaS渗透率（vs 开源/自建）
    ↓ 按GMV分层
付费用户（570万）
    ↓ × 分层ARPU
= 市场规模（$44亿）
```

### B2C 订阅服务（如流媒体）

```
目标地区人口
    ↓ × 互联网渗透率
互联网用户
    ↓ × 有内容消费需求的比例
潜在用户
    ↓ × 愿意付费订阅的比例（vs 免费/盗版）
    ↓ 按用户类型分层（个人/家庭/学生）
付费用户
    ↓ × 分层ARPU
= 市场规模
```

### 企业软件（如CRM）

```
目标行业企业数
    ↓ × 有CRM需求的比例（按企业规模）
有CRM需求的企业
    ↓ × 会用SaaS的比例（vs 本地部署）
    ↓ 按企业规模分层（SMB/Mid-Market/Enterprise）
SaaS CRM用户
    ↓ × 分层ARPU（$50-$300/用户/月）
= 市场规模
```

### 硬件/设备（如智能手机）

```
目标人群（如15-65岁人口）
    ↓ × 手机渗透率
手机用户
    ↓ × 年更换率
年购买量
    ↓ 按价位分层（高端/中端/低端）
    ↓ × 分层ASP
= 市场规模
```

---

# Step 1.5: 用产业数据验证每一层假设（关键！）

**每一层假设都必须用独立的产业数据交叉验证**

## 验证方法

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  假设 A（推算值） vs 产业数据 B（实际观测值）                   │
│                                                                 │
│  差异 < 30%  →  假设合理                                        │
│  差异 > 50%  →  假设有问题，需要修正                            │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## 验证示例（独立站SaaS）

| Layer | 推算假设 | 验证用的产业数据 | 对比 |
|-------|---------|-----------------|------|
| 有电商业务的企业 | 4600万 | 电商网站总数2600万（BuiltWith） | 电商网站<电商企业（一企业多站），合理 |
| 需要独立站的企业 | 1850万 | 托管+开源电商站约1600万 | 接近，合理 |
| 托管SaaS付费用户 | 570万 | Shopify 554万+Wix+Squarespace≈800万 | 偏低，可上调 |
| 平均ARPU | $770 | Shopify实际ARPU $424 | 偏高，需检查分层 |

## 常用验证数据源

| 验证项 | 数据源 |
|--------|-------|
| 企业数量 | SBA（美国）、Eurostat（欧洲）、工商总局（中国）、World Bank |
| 电商网站数 | BuiltWith、W3Techs |
| 平台用户数 | 龙头公司财报（Shopify、Salesforce等） |
| 行业渗透率 | Gartner、IDC、行业协会报告 |
| 人口/用户数 | World Bank、UN、各国统计局 |

---

# Step 2: Top-Down（供给侧）

## 核心公式

```
市场规模 = 龙头收入 ÷ 龙头市场份额
```

## 数据收集

| 企业 | 收入 | 份额 | 来源 |
|------|------|------|------|
| 龙头1 | $XX亿 | XX% | [具体来源+链接] |
| 龙头2 | $XX亿 | XX% | [具体来源+链接] |
| 龙头3 | $XX亿 | XX% | [具体来源+链接] |

## 份额来源优先级

```
1. 行业研究报告 ★★★★★（Gartner、IDC、Grand View Research）
2. 技术监测 ★★★★（W3Techs、BuiltWith、SimilarWeb）
3. 财报描述 ★★★
4. 收入比例推算 ★★
```

---

# Step 3: 交叉验证

## 差异判断

```
差异 = |Bottom-Up - Top-Down| / 平均值

< 20%   →  ✅ 两条独立逻辑指向同一结论，可信
20-30%  →  ⚠️ 需解释原因
> 30%   →  ⛔ 停！必须检查假设
```

## 差异>30%强制检查清单

| # | 检查项 | 核查内容 |
|---|--------|---------|
| 1 | 地域一致 | Bottom-Up和Top-Down数据来自同一地域？ |
| 2 | 产品定义 | 两侧测算的是同一个市场？ |
| 3 | 收入口径 | 订阅 vs 总收入是否混用？ |
| 4 | 时间一致 | 数据来自同一年份？ |
| 5 | 基数假设 | 潜在客户数假设是否有产业数据支撑？ |
| 6 | 需求率假设 | 各层需求率是否合理？ |
| 7 | 渗透率假设 | 付费转化率是否有依据？ |
| 8 | 分层比例 | 各层占比是否合理？ |
| 9 | ARPU假设 | 是否与龙头实际ARPU相符？ |
| 10 | 份额假设 | 龙头份额是否有依据？ |

**❌ 禁止：差异大时直接取平均**
**✓ 正确：找出原因，修正假设，重新计算**

---

# 分层原则

## 好的分层 vs 差的分层

| 维度 | ✅ 好的分层 | ❌ 差的分层 |
|------|-----------|-----------|
| 按规模 | 年GMV/收入/员工数区间 | 产品名称（Plus/Enterprise） |
| 按行业 | 具体行业（零售/制造/金融） | 大客户/中客户（无定义） |
| 按地域 | 具体国家/区域 | 海外/国内（太粗） |
| 按场景 | 具体使用场景 | A类/B类（无意义） |

## 分层必须满足

1. **有业务含义**：分层标准与付费意愿/ARPU相关
2. **可被验证**：能找到数据验证各层占比
3. **互斥完整**：各层不重叠，合计100%

---

# ARPU校准

**必须用龙头实际数据校准假设**

```
1. 计算龙头实际ARPU：
   实际ARPU = 总收入 ÷ 总客户数

2. 对比假设：
   - 差异 < 30% → 合理
   - 差异 > 50% → 必须检查

示例（Shopify）：
- 订阅收入: $23.5亿
- 活跃店铺: 554万
- 实际ARPU: $424/年
- 如果假设ARPU是$1000，明显偏高
```

---

# 数据来源优先级

```
1. 上市公司财报（10-K、年报） ★★★★★
   - SEC EDGAR、公司IR页面
   - 最权威

2. 行业研究报告 ★★★★
   - Gartner、IDC、Grand View Research

3. 技术监测 ★★★★
   - W3Techs、BuiltWith、SimilarWeb

4. 财经数据网站 ★★★
   - StockAnalysis、Yahoo Finance

5. 行业博客 ★★
   - DemandSage、Backlinko
   - 需交叉验证
```

---

# 输出要求

## Excel模型

使用 `generate_excel_v5.py` 生成：

```bash
python3 generate_excel_v5.py --market "市场名称" --geo "地域"
```

模型结构：
- 输入_假设：完整逻辑链（Layer1→Layer2→...→市场规模）
- 逻辑链详解：每步解释
- 差异检查清单：强制核查项

## 文字报告格式

```
# [市场名称] 市场规模测算

## 测算口径
- 地域：
- 产品边界：
- 收入口径：
- 数据年份：

## Bottom-Up 逻辑链

### Layer 1: [基数]
| 项目 | 数值 | 来源 |
|------|------|------|
| ... | ... | ... |

【验证】用[产业数据]验证：[对比结果]

### Layer 2: [需求率]
...

### Layer N: [ARPU]
...

### 汇总
| 层级 | 客户数 | ARPU | 市场规模 |
|------|--------|------|---------|
| ... | ... | ... | ... |
| **合计** | **XX万** | **$XX** | **$XX亿** |

## Top-Down
| 企业 | 收入 | 份额 | 反推规模 | 来源 |
|------|------|------|---------|------|
| ... | ... | ... | ... | ... |

## 交叉验证
- Bottom-Up: $XX亿
- Top-Down: $XX亿
- 差异: XX%
- 判断: [✅可信 / ⚠️需解释 / ⛔检查假设]

## 最终结论
市场规模: $XX亿（±XX%）
```

---

# 示例：独立站SaaS全球市场

```
测算口径：
- 地域：全球
- 产品：托管型独立站SaaS（不含WooCommerce开源）
- 收入：订阅收入（不含支付抽成）
- 年份：2024

Bottom-Up 逻辑链：

Layer 1: 全球企业基数
- 全球MSME: 3.5亿家（World Bank）
- 【验证】美国3320万（SBA），占全球~10%，合理

Layer 2: 有电商业务
- 电商化率: 13%
- 有电商企业: 4600万
- 【验证】全球电商网站2600万（BuiltWith），企业>网站，合理

Layer 3: 需要独立站
- 独立站需求率: 40%（排除纯平台卖家）
- 需独立站企业: 1850万
- 【验证】托管+开源电商站约1600万，接近

Layer 4: 选择托管SaaS
- 按GMV分层后加权渗透率: ~31%
- 付费用户: 570万
- 【验证】Shopify 554万 + 其他 ≈ 800万，偏保守

Layer 5: ARPU
- 加权ARPU: $770
- 【验证】Shopify实际$424，假设偏高但含高端客户

汇总：
| 层级 | 企业数 | 渗透率 | 付费用户 | ARPU | 规模 |
|------|--------|--------|---------|------|------|
| 微型 | 1200万 | 25% | 300万 | $300 | $9亿 |
| 小型 | 460万 | 50% | 230万 | $800 | $18亿 |
| 中型 | 150万 | 45% | 67万 | $3000 | $20亿 |
| 大型 | 37万 | 25% | 9万 | $20000 | $18亿 |
| **合计** | 1847万 | - | **606万** | **$1073** | **$65亿** |

Top-Down：
- Shopify订阅$23.5亿 ÷ 55%份额 = $43亿

交叉验证：
- Bottom-Up: $65亿
- Top-Down: $43亿
- 差异: 41% ⛔

诊断：Bottom-Up偏高，检查发现：
- 中大型ARPU假设偏高
- 修正后Bottom-Up: $48亿
- 修正后差异: 12% ✅

最终结论: 全球独立站SaaS订阅市场约$45亿（±15%）
```
